import time, asyncio
import nodriver as uc
from pyvirtualdisplay import Display


async def main():
    display = Display(visible=0, size=(1080,720))
    display.start()
    browser = await uc.start()
    page = await browser.get(
        "https://www.avto.net/Ads/details.asp?id=20315130&display=Mercedes-Benz%20C-Razred"
    )
    await asyncio.sleep(10)
    display.stop()


if __name__ == '__main__':
    # since asyncio.run never worked (for me)
    uc.loop().run_until_complete(main())


    s = {'url': 'https://www.avto.net/Ads/details.asp?id=20293150', 'name': 'Mazda CX-5', 'full_name': 'Mazda CX-5 CD150 Takumi + 5 LET JAMSTVA', 'avtonet_id': None, 'price': 15890, 'discount_price': None, 'price_verbose': None, 'first_registration': '2017 / 5', 'new_vehicle': False, 'mileage': 101547, 'num_of_owners': '1', 'fuel_type': 'diesel', 'engine_power': 110, 'comment': 'Slovensko poreklo, Parkirni senzorji spredaj in zadaj, Vzvratna kamera, Mrtvi koti, Tempomat, DAB', 'description': '<a href="https://www.avtotehna-vis.si/" target="_blank"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/V3Wxs84/Logo.jpg"></a><a href="https://www.avto.net/Ads/results.asp?znamka=&amp;model=&amp;modelID=&amp;tip=&amp;znamka2=&amp;model2=&amp;tip2=&amp;znamka3=&amp;model3=&amp;tip3=&amp;cenaMin=0&amp;cenaMax=999999&amp;letnikMin=0&amp;letnikMax=2090&amp;bencin=0&amp;starost2=999&amp;oblika=0&amp;ccmMin=0&amp;ccmMax=99999&amp;mocMin=0&amp;mocMax=999999&amp;kmMin=0&amp;kmMax=9999999&amp;kwMin=0&amp;kwMax=999999&amp;motortakt=0&amp;motorvalji=0&amp;lokacija=0&amp;sirina=0&amp;dolzina=&amp;dolzinaMIN=0&amp;dolzinaMAX=100&amp;nosilnostMIN=0&amp;nosilnostMAX=999999&amp;lezisc=&amp;presek=0&amp;premer=0&amp;col=0&amp;vijakov=0&amp;EToznaka=0&amp;vozilo=&amp;airbag=&amp;barva=&amp;barvaint=&amp;doseg=0&amp;EQ1=1000000000&amp;EQ2=1000000000&amp;EQ3=1000000000&amp;EQ4=100000000&amp;EQ5=1000000000&amp;EQ6=1000001000&amp;EQ7=1110100122&amp;EQ8=101000000&amp;EQ9=1000000020&amp;KAT=1010000000&amp;PIA=&amp;PIAzero=&amp;PIAOut=&amp;PSLO=&amp;akcija=0&amp;paketgarancije=&amp;broker=469&amp;prikazkategorije=0&amp;kategorija=0&amp;ONLvid=0&amp;ONLnak=0&amp;zaloga=10&amp;arhiv=0&amp;presort=&amp;tipsort=&amp;stran=" target="_blank"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/DkYR8rG/Celotna-zaloga.jpg"></a><a href="https://www.avtotehna-vis.si/novice/big-deal-jamstvo-avtotehne-vis-za-rabljena-vozila" target="_blank"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/NFVKPbH/Big-Deal.jpg"></a><a href="https://www.avtotehna-vis.si/storitve" target="_blank"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/WPhdrsm/Vse-storitve.jpg"></a><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/VmQvQRM/Financiranje.jpg"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/YkgX7Fc/Vabilo.jpg"><a href="tel:+38641748936"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/xHdpdT9/Klemen-kontakt.jpg"></a><a href="tel:+38651321755"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/2Fx2wXW/Matja-kontakt.jpg"></a><a href="tel:+38630464261"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/Chv3jG9/Jan-kontakt.jpg"></a><a href="tel:+38631446414"><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/sVnh27X/an-kontakt.jpg"></a><img class="img-fluid" alt="" style="border-style:solid; border-width:0px; float:left; margin:0px" src="https://i.ibb.co/GPNqgB0/Mo-nost-napak.jpg">', 'metadata': {'basic_data': {'Starost': 'rabljeno / ima jamstvo', 'Prva registracija': '2017 / 5', 'Leto proizvodnje': '2017', 'Prevoženi km': '101547', 'Tehnični pregled velja do': '2025 / 5', 'engine': '110 kW (150 KM), 2191 ccm', 'Gorivo': 'diesel motor', 'Menjalnik': 'ročni menjalnik (6 pr.)', 'Oblika': 'terensko vozilo / SUV', 'Št.vrat': '5 vr.', 'Barva': 'črna metalik', 'Notranjost': 'črna / blago', 'Interna številka': '72-137', 'VIN / številka šasije': 'JMZKEF91600545706', 'Kraj ogleda': 'Celovška 228, LJUBLJANA'}, 'emission_data': {'Kombinirana vožnja': 'od 4,6 lit. / 100 km', 'Emisijski razred': 'Euro 6', 'Emisija CO2': '119 g / km'}, 'other_data': {'Podvozje': ['lahka - ALU platišča:Original Mazda 19col', 'ABS zavorni sistem', 'BAS pomoč pri zaviranju', 'ESP elektronski program stabilnosti', 'ASR regulacija zdrsa pogonskih koles'], 'Varnost': ['6 x zračna vreča / Airbag', 'senzor za dež', 'prednje (dnevne) LED luči', 'zadnje LED luči', 'meglenke', 'tretja zavorna luč', 'alarmna naprava', 'blokada motorja', 'kodno varovan vžig motorja', 'sistem za samodejno zaviranje v sili', 'sistem za opozarjanje na mrtvi kot', 'nadzor zračnega tlaka v pnevmatikah'], 'Notranjost': ['štev. sedežev: 5', 'ambientna osvetlitev notranjosti', 'ALU dodatki v notranjosti', 'komfortni sedeži', 'sedeži: nastavitev po višini', 'sedeži: gretje spredaj', 'sredinski naslon za roko', '12V vtičnica'], 'Udobje': ['klimatska naprava: avtomatska', 'klimatska naprava: 2 conska', 'zatemnjena / tonirana stekla', 'električni pomik prednjih stekel', 'električni pomik prednjih in zadnjih stekel', 'zunanja ogledala: el. nastavljiva', 'zunanja ogledala: ogrevanje', 'zunanja ogledala: el. zložljiva', 'centralno zaklepanje', 'centralno zaklepanje + daljinsko upravljanje', 'električni paket', 'volan: nastavljiv po višini', 'volan: nastavljiv po globini', 'servo volan', 'volan: multifunkcijski', 'volanski obroč oblečen v usnje', 'tempomat', 'sistem Start-Stop', 'Keyless Go', 'el. parkirna zavora'], 'Multimedia': ['avtoradio', 'avtoradio / CD:Multimedijski sistem Mazda na dotik', 'USB priključek (iPod, HD, ...)', 'potovalni računalnik', 'komunikacijski paket', 'Bluetooth vmesnik', 'Touch screen', 'digitalni radio DAB'], 'Uporabnost': ['zadnja klop - deljiva 1/3 - 2/3', 'Isofix sistem za pritrditev otr.sedeža', 'rolo prtljažnega prostora', 'pripomoček za parkiranje PDC/Parktronic', 'pomoč pri parkiranju: parkirna kamera', 'pomoč pri parkiranju: prednji senzorji', 'pomoč pri parkiranju: zadnji senzorji', 'pomoč pri speljevanju v klanec', 'vzvratna kamera'], 'Stanje': ['servisna knjiga', 'slovensko poreklo', 'navodila za uporabo v SLO jeziku', '1. lastnik']}}, 'seller_type': 'company', 'images': ['https://images.avto.net/photo/20293150/1040199_HD.jpg', 'https://images.avto.net/photo/20293150/2040295_HD.jpg', 'https://images.avto.net/photo/20293150/3040308_HD.jpg', 'https://images.avto.net/photo/20293150/4040308_HD.jpg', 'https://images.avto.net/photo/20293150/5040294_HD.jpg', 'https://images.avto.net/photo/20293150/6040322_HD.jpg', 'https://images.avto.net/photo/20293150/7040322_HD.jpg', 'https://images.avto.net/photo/20293150/8040332_HD.jpg', 'https://images.avto.net/photo/20293150/9040347_HD.jpg', 'https://images.avto.net/photo/20293150/10040347_HD.jpg', 'https://images.avto.net/photo/20293150/11040345_HD.jpg', 'https://images.avto.net/photo/20293150/12040353_HD.jpg', 'https://images.avto.net/photo/20293150/13040357_HD.jpg', 'https://images.avto.net/photo/20293150/14040360_HD.jpg', 'https://images.avto.net/photo/20293150/15040360_HD.jpg', 'https://images.avto.net/photo/20293150/16040365_HD.jpg', 'https://images.avto.net/photo/20293150/17040367_HD.jpg', 'https://images.avto.net/photo/20293150/18040367_HD.jpg', 'https://images.avto.net/photo/20293150/19040362_HD.jpg', 'https://images.avto.net/photo/20293150/20040303_HD.jpg'], 'thumbnails': []}